<!DOCTYPE html>
<html>
	<head>
		<title>Lynx Dev</title>
		<link href="w3.css" rel="stylesheet" />
		<style>
			body { font-family: "Roboto", sans-serif !important; }
		</style>
		<meta charset="utf8" />
	</head>

	<body class="animate-opacity">
		<div class="padding">
			<h2>Lynx Testing</h2>
			<button onclick="Android.qrCodeReader();">Add device by QR code</button>
			<button onclick="settingsWriteTest();">Settings</button>
			<pre class="padding margin-top margin-bottom light-grey" style="height: calc(100vh - 370px); overflow: scroll;" id="log"></pre class="padding margin-top margin-bottom">
		</div>

		<script>
			const log = document.getElementById("log");

			log.innerText += "\n" + Android.readSettings();
			const readSettings = JSON.parse(Android.readSettings());
			if (readSettings.index_redirect !== "") window.location.href = readSettings.index_redirect;

			function settingsWriteTest() {
				Android.writeSettings(JSON.stringify({
					best_girl: "Riko Sakurauchi"
				}));
			}

			function qrCodeResult(data) {
				log.innerText += "\n" + data;
				window.location.href = "new-device.html#" + btoa(data);
			}
		</script>
	</body>
</html>