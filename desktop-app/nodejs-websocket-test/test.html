<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>WebSocket Test</title>
</head>
<body>
  <input type="text" name="" id="address-input" placeholder="WebSocket server address"
    value="ws://localhost:8080">
  <button id="create-connection-button" onclick="createWebSocketConnection()">
    Create WebSocket connection
  </button>
  <br>
  <input type="text" name="" id="message-input" placeholder="Message">
  <button id="send-message-button" onclick="sendWebSocketMessage()" disabled>
    Send WebSocket Message
  </button>

  <script>
    let connection;

    const createWebSocketConnection = () => {
      connection = new WebSocket(document.getElementById("address-input").value);
      connection.addEventListener("message", (messageEvent) => {
        console.log("Received message from server:", messageEvent.data);
      });
      connection.addEventListener("close", () => {
        document.getElementById("send-message-button").disabled = true;
      });
      document.getElementById("send-message-button").disabled = false;
    };

    const sendWebSocketMessage = () => {
      connection.send(document.getElementById("message-input").value);
    };
  </script>
</body>
</html>